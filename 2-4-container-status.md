# コンテナの状態遷移と停止パターンについて

## コンテナの状態遷移
コンテナが意図した通りに動作しているかを把握するために、状態遷移を理解する必要がある。
コンテナが停止する理由を理解できないと、問題を特定するのが難しくなる。

## コンテナの特性
- コンテナはネームスペースによって隔離されたプロセスであり、イメージによって定められたデフォルトの命令を実行する。
- コンテナは起動時に任意の命令を指定できる。
- コンテナは一つのコマンドを実行するために起動し、pidが1になる。

## コンテナの停止パターン
コンテナが停止する理由は主に2つある：
1. コンテナを明示的に停止する場合。
2. メインプロセスが終了する場合。

## メインプロセスの終了
- ウェブサーバーなどのプロセスの場合、メインプロセスが終了してもコンテナは停止しない。
- バッシュなどの命令プロセスの場合、バッシュが終了するとメインプロセスが終了し、コンテナも連動して停止する。

## デタッチオプションとの違い
- 即時終了とバックグラウンド実行（デタッチオプション）を混同しないことが重要。
- ターミナルが固まっているかどうかではなく、コンテナが動作しているかどうかを判断する。
